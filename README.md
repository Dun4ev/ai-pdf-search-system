# **Поисковая система по PDF-документам на основе AI**

Этот проект позволяет выполнять семантический поиск и отвечать на вопросы по содержимому PDF-документов, используя RAG-архитектуру (Retrieval-Augmented Generation) и большие языковые модели.

## **Как это работает**

Процесс состоит из двух основных этапов:

1.  **Индексация:** Документы из папки `test_doc/` обрабатываются, разбиваются на логические фрагменты (чанки), преобразуются в числовые векторы (эмбеддинги) и сохраняются в локальную векторную базу данных (FAISS).
2.  **Поиск и генерация:** Пользователь вводит запрос через веб-интерфейс. Система преобразует запрос в вектор, находит наиболее релевантные фрагменты в базе данных и передает их вместе с исходным запросом большой языковой модели (LLM) для генерации осмысленного и контекстуального ответа.

## **Установка**

1.  **Клонирование репозитория** (если проект находится в Git):
    ```bash
    git clone <URL репозитория>
    cd <папка проекта>
    ```

2.  **Создание и активация виртуального окружения:**
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    # Для Windows: venv\Scripts\activate
    ```

3.  **Установка зависимостей:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройка API-ключей:**
    Создайте файл `.env` в корневой папке проекта и добавьте в него ваш API-ключ:
    ```
    OPENAI_API_KEY="sk-..."
    ```

## **Использование**

1.  **Добавьте документы:** Поместите ваши PDF-файлы в папку `test_doc/`.
2.  **Запустите индексацию:** Выполните скрипты в строгой последовательности для создания или обновления поискового индекса.
    *Этот шаг нужно повторять каждый раз при добавлении или изменении документов.*
    ```bash
    python ingest1.py
    python chunk2.py
    python embed3.py
    python index4.py
    ```
3.  **Запустите веб-приложение:**
    ```bash
    streamlit run app7.py
    ```
4.  **Начните поиск:** Откройте в браузере адрес, который появится в терминале (обычно `http://localhost:8501`), введите свой вопрос и получите ответ.

## **Структура проекта**

-   `ingest1.py`: Отвечает за загрузку и чтение PDF-файлов из папки `test_doc/`.
-   `chunk2.py`: Разделяет извлеченный текст на небольшие, логически связанные фрагменты.
-   `embed3.py`: Преобразует текстовые фрагменты в векторные представления (эмбеддинги) с помощью нейросетевой модели.
-   `index4.py`: Создает и сохраняет FAISS-индекс из полученных векторов для быстрого поиска.
-   `search5.py`: Реализует логику поиска релевантных фрагментов в индексе по векторному представлению запроса.
-   `generate6.py`: Формирует промпт из запроса и найденных фрагментов и отправляет его в LLM для генерации финального ответа.
-   `app7.py`: Основной файл приложения, который объединяет все компоненты в единый веб-интерфейс на Streamlit.
-   `requirements.txt`: Список всех необходимых для работы проекта библиотек.
-   `.env`: Файл для хранения секретных ключей и переменных окружения.
-   `test_doc/`: Директория для хранения исходных PDF-документов.